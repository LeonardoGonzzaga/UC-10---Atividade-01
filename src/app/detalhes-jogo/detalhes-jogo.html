<div class="detalhes-container">
    <!-- Loading state -->
    <div *ngIf="loading" class="loading">
        <div class="spinner"></div>
        <p>Carregando informa√ß√µes do jogo...</p>
    </div>

    <!-- Error state -->
    <div *ngIf="error" class="error">
        {{ error }}
    </div>

    <!-- Game details -->
    <div *ngIf="!loading && !error && jogo" class="jogo-content">
        <div class="jogo-header">
            <div class="imagem-container">
                <img [src]="jogo.imagemUrl" [alt]="jogo.nome" 
                     onerror="this.src='https://i.imgur.com/50SVSXK.jpeg'">
            </div>
            
            <div class="info-container">
                <h1 class="jogo-titulo">{{ jogo.nome }}</h1>
                <div class="preco-comprar">
                    <p class="jogo-preco">{{ formatarPreco(jogo.preco) }}</p>
                    <button class="botao-comprar">Comprar</button>
                </div>
                <p class="jogo-descricao">{{ jogo.descricao }}</p>
                
                <div class="sobre-section" *ngIf="jogo.sobre">
                    <h2>Sobre este Jogo</h2>
                    <!-- Render rich HTML for 'sobre' -->
                    <div class="sobre-text" [innerHTML]="trustedSobre"></div>
                </div>
                
                <div class="avaliacao">
                    <button class="botao-avaliacao positivo" (click)="avaliarJogo(true)">
                        üëç {{jogo.avaliacoesPositivas}}
                    </button>
                    <button class="botao-avaliacao negativo" (click)="avaliarJogo(false)">
                        üëé {{jogo.avaliacoesNegativas}}
                    </button>
                </div>
            </div>
        </div>

        <div class="detalhes-info">
            <div class="info-section">
                <h2>Informa√ß√µes Gerais</h2>
                <div class="info-grid">
                    <div class="info-item">
                        <h3>G√™nero</h3>
                        <p>{{jogo.genero}}</p>
                    </div>
                    <div class="info-item">
                        <h3>Data de Lan√ßamento</h3>
                        <p>{{jogo.dataLancamento | date:'dd/MM/yyyy'}}</p>
                    </div>
                    <div class="info-item">
                        <h3>Publisher</h3>
                        <p>{{jogo.publisher}}</p>
                    </div>
                    <div class="info-item">
                        <h3>Desenvolvedora</h3>
                        <p>{{jogo.desenvolvedora}}</p>
                    </div>
                </div>
            </div>

            <div class="info-section">
                <h2>Idiomas Dispon√≠veis</h2>
                <div class="idiomas-lista">
                    <span class="idioma-tag" *ngFor="let idioma of jogo.idiomas">{{idioma}}</span>
                </div>
            </div>

            <div class="info-section">
                <h2>Requisitos M√≠nimos do Sistema</h2>
                <div class="requisitos-lista">
                    <div class="requisito-item">
                        <strong>Sistema Operacional:</strong> {{jogo.requisitosMinimos.sistema}}
                    </div>
                    <div class="requisito-item">
                        <strong>Processador:</strong> {{jogo.requisitosMinimos.processador}}
                    </div>
                    <div class="requisito-item">
                        <strong>Mem√≥ria RAM:</strong> {{jogo.requisitosMinimos.memoria}}
                    </div>
                    <div class="requisito-item">
                        <strong>Placa de V√≠deo:</strong> {{jogo.requisitosMinimos.placaVideo}}
                    </div>
                    <div class="requisito-item">
                        <strong>Armazenamento:</strong> {{jogo.requisitosMinimos.armazenamento}}
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<div class="comentarios-area">
    <!-- O componente ComentariosJogosComponent agora l√™ o ID da rota, 
         ent√£o o input [jogoId] n√£o √© mais necess√°rio para ele. -->
    <app-comentarios-jogos 
        *ngIf="jogoId">
    </app-comentarios-jogos>
</div>